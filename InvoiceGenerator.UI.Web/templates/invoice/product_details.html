<link rel="stylesheet" href="content/bootstrap-iconpicker.min.css" />
<ul class="list-group">
  <li class="list-group-item">
    <div class="btn-toolbar" role="toolbar">
      <div class="btn-group pull-right" role="group">
        <button uib-tooltip="Add product" type="button" ng-click="addProduct()" class="btn btn-default btn-sm"><i class="fa fa-lfw fa-plus fa-lg text-primary"></i></button>
        <button uib-tooltip="Clear" type="button" ng-click="bill={}" class="btn btn-default btn-sm"><i class="fa fa-lfw fa-times fa-lg text-danger"></i></button>
      </div>
    </div>
  </li>
  <li class="list-group-item">
    <select class="form-control" name="productName" required ng-model="bill.productId" ng-change="getPrice()" uib-tooltip="{{getMsg(lf.productName, 'Product Name')}}">
                            <option value="">please select a product</option>
                            <option ng-repeat="i in filteredProducts" value="{{i.id}}">{{i.productName}} ({{i.countryCode}}) </option>
                          </select>
  </li>
  <li class="list-group-item">
    <input name="price" type="number" step="1.00" required class="form-control" ng-disabled="isBusy" ng-maxlength="10" ng-model="bill.price" ng-pattern="ds.decimal" placeholder="product price" uib-tooltip="{{getMsg(lf.price, 'Price')}}" />
  </li>
  <li class="list-group-item">
    <div class="input-group" uib-tooltip="{{getMsg(lf.from, 'Start Date')}}">
      <input type="text" name="from" class="form-control" uib-datepicker-popup="EEEE, MMMM d, y" ng-model="bill.startDate" is-open="opened1" readonly datepicker-options="ds.dateOptions" required close-text="Close" placeholder="service period start date" />
      <span class="input-group-btn" ng-click="opened1=true"><i class="fa fa-lg fa-calendar"></i>  <i class="fa fa-sm fa-caret-down"></i></span>
    </div>
  </li>
  <li class="list-group-item">
    <div class="input-group" tooltip="{{getMsg(lf.to, 'End Date')}}">
      <input type="text" name="to" class="form-control" uib-datepicker-popup="EEEE, MMMM d, y" ng-model="bill.endDate" is-open="opened2" readonly datepicker-options="ds.dateOptions" required close-text="Close" placeholder="service period end date" />
      <span class="input-group-btn" ng-click="opened2=true"><i class="fa fa-lg fa-calendar"></i>  <i class="fa fa-sm fa-caret-down"></i></span>
    </div>
  </li>
  <li class="list-group-item">
    <input name="quantity" type="number" step="1" required class="form-control" ng-disabled="isBusy" ng-maxlength="10" ng-model="bill.quantity" ng-pattern="ds.integer" placeholder="product quantity" uib-tooltip="{{getMsg(lf.quantity, 'Quantity')}}" />
  </li>
  <li class="list-group-item">
    <div class="div-input">
      <select class="form-control" name="billingFrequency" required ng-model="bill.billingFrequency" uib-tooltip="{{getMsg(lf.billingFrequency, 'Billing frequency')}}">
            <option value="">please select a billing frequency</option>
            <option ng-repeat="i in frequencies" value="{{i.id}}">{{i.name}}</option>
          </select>
    </div>
  </li>
</ul>
<table class="table table-condensed table-striped table-responsive">
  <thead>
    <tr>
      <td>Product Name</td>
      <td>Price</td>
      <td>Start</td>
      <td>End</td>
      <td>Quantity</td>
      <td>Billing Frequency</td>
      <td></td>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="b in entity.bills">
      <td>{{b.name}}</td>
      <td><i class="fa {{b.currency}}"></i>{{b.price}}</td>
      <td>{{b.startDate|date:"EEEE, MMMM d, y"}}</td>
      <td>{{b.endDate|date:"EEEE, MMMM d, y"}}</td>
      <td>{{b.quantity}}</td>
      <td>{{b.billingFrequency}}</td>
      <td align='right'><button type="button" ng-click="deleteProduct(b)" class="btn btn-default btn-sm"><i uib-tooltip="Delete" class="fa fa-lfw fa-times fa-lg text-danger"></i></button>
      </td>
    </tr>
  </tbody>
</table>
<script src="scripts/iconset-fontawesome-4.0.0.min.js" type="text/javascript"></script>
<script src="scripts/bootstrap-iconpicker.js" type="text/javascript"></script>